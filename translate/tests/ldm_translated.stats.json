{
  "original_summary": "# LDM - 逻辑磁盘管理器（动态磁盘）中文摘要\n\n## 概述\n\nWindows 2000、XP 和 Vista 引入了一种新的分区方案，完全取代了传统的 MSDOS 分区格式。该方案在物理磁盘末尾保留一个 1MiB 的日志数据库，用于存储分区信息。这种新格式的分区大小仅受磁盘容量限制，最多可支持近 2000 个分区。\n\n在 LDM（Logical Disk Manager）下创建的分区称为“动态磁盘”，不再区分主分区和扩展分区。传统的 MSDOS 分区则被称为“基本磁盘”。\n\n若要使用跨区卷（Spanned）、带区卷（Striped）、镜像卷（Mirrored）或 RAID 5 卷，必须使用动态磁盘。LDM 的日志功能允许 Windows 在不重启系统的情况下修改这些分区和文件系统。\n\nLDM 驱动程序完成磁盘分区后，可以使用 MD 驱动程序来组装多分区卷，如带区卷、RAID 5 等。\n\n为防止旧版应用程序对磁盘进行重新分区，LDM 创建了一个包含单个磁盘大小分区的虚拟 MSDOS 分区。这是 Linux 的 LDM 驱动程序所支持的格式。\n\nVista 引入了一种新方法，将 LDM 放在 GPT（GUID 分区表）磁盘之上。目前 Linux 的 LDM 驱动程序尚不支持此功能。\n\n## 示例\n\n以下是一个 50MiB 磁盘的分区示例，共分为七个分区。磁盘末尾的 1MiB 空间用于存储 LDM 数据库。\n\n| 偏移量（字节） | 扇区数 | MiB | 大小（字节） | 扇区数 | MiB |\n|----------------|--------|-----|--------------|--------|-----|\n| 0              | 0      | 0   | 52428800     | 102400 | 50  |\n| 51380224       | 100352 | 49  | 1048576      | 2048   | 1   |\n| 16384          | 32     | 0   | 6979584      | 13632  | 6   |\n| 6995968        | 13664  | 6   | 10485760     | 20480  | 10  |\n| 17481728       | 34144  | 16  | 4194304      | 8192   | 4   |\n| 21676032       | 42336  | 20  | 5242880      | 10240  | 5   |\n| 26918912       | 52576  | 25  | 10485760     | 20480  | 10  |\n| 37404672       | 73056  | 35  | 13959168     | 27264  | 13  |\n\nLDM 数据库中的分区顺序可能与磁盘上的实际顺序不同，但驱动程序会自动排序。\n\nLinux 启动时会显示如下信息：\n\n```\nhda: 102400 sectors w/32KiB Cache, CHS=50/64/32\nhda: [LDM] hda1 hda2 hda3 hda4 hda5 hda6 hda7\n```\n\n## 编译 LDM 支持\n\n要启用 LDM，需在内核配置中选择以下两个选项：\n\n- “高级分区选择” CONFIG_PARTITION_ADVANCED\n- “Windows 逻辑磁盘管理器（动态磁盘）支持” CONFIG_LDM_PARTITION\n\n若怀疑驱动程序存在问题，可启用额外的调试代码（会产生大量日志输出）：\n\n- “Windows LDM 额外日志” CONFIG_LDM_DEBUG\n\n注意：LDM 分区代码不能编译为模块。\n\n与所有分区代码一样，如果驱动程序未检测到其支持的分区类型，它会将控制权交给其他驱动程序，因此启用 LDM 不会造成负面影响。\n\n如果使用了动态磁盘但未启用 LDM 驱动程序，则只能看到一个占满整个磁盘的虚拟 MSDOS 分区，无法挂载任何卷。\n\n## 启动\n\n启用 LDM 支持后，LILO 可以从任何发现的分区启动。但 GRUB 无法识别 LDM 分区，因此不能从动态磁盘启动。\n\n## 更多文档\n\n有关 LDM 的概述和完整技术文档，请访问：\n\n> [http://www.linux-ntfs.org/](http://www.linux-ntfs.org/)\n\n如有未在文档中解答的 LDM 相关问题，可发送邮件联系作者：\n\nFlatCap - Richard Russon <ldm@flatcap.org>",
  "translated_summary": "### LDM - 逻辑磁盘管理器（动态磁盘）中文摘要\n\n本文档由 FlatCap（Richard Russon）编写，后由 Anton Altaparmakov 于 2007 年更新，主要介绍 Windows 系统中用于替代传统 MSDOS 分区方案的 **逻辑磁盘管理器（LDM）**，也称为“动态磁盘”技术。以下是文档的核心内容摘要：\n\n---\n\n#### 一、概述\n\n- **LDM 的作用与背景**  \n  LDM 是 Windows 2000、XP 和 Vista 中引入的一种新型分区机制，完全替代了传统的 MSDOS 分区方式。它通过在磁盘末尾保留一个 1MiB 的日志化数据库来存储分区信息，支持更大的分区数量（最多约 2000 个）和更灵活的分区大小。\n\n- **动态磁盘与基本磁盘的区别**  \n  - LDM 创建的磁盘称为“动态磁盘”，不再区分主分区和扩展分区。\n  - 传统的 MSDOS 分区称为“基本磁盘”。\n\n- **功能优势**  \n  - 支持跨区卷、带区卷、镜像卷和 RAID 5 卷等高级存储配置。\n  - 日志功能允许在不重启系统的情况下修改分区和文件系统。\n\n- **Linux 支持情况**  \n  - Linux 的 LDM 驱动程序支持动态磁盘结构，包括多分区卷的组合（如带区卷）。\n  - 但目前不支持 Vista 引入的在 GPT 标签磁盘上使用 LDM 的新方法。\n\n---\n\n#### 二、示例说明\n\n- 提供了一个 50MiB 磁盘的分区示例，共分为七个分区。\n- 磁盘末尾的 1MiB 空间用于存储 LDM 数据库。\n- LDM 数据库中的分区顺序可能与磁盘上的实际顺序不同，但驱动程序会自动排序。\n- Linux 启动时会显示类似 `hda: [LDM] hda1 ... hda7` 的信息，表示识别到了 LDM 分区。\n\n---\n\n#### 三、LDM 支持的编译配置\n\n- **启用 LDM 的内核选项**  \n  - `CONFIG_PARTITION_ADVANCED`（高级分区选择）\n  - `CONFIG_LDM_PARTITION`（Windows LDM 支持）\n\n- **调试选项**  \n  - `CONFIG_LDM_DEBUG`：启用额外日志输出，用于调试。\n\n- **注意事项**  \n  - LDM 分区代码不能编译为模块。\n  - 如果未检测到 LDM 分区，该驱动程序会将控制权交给其他分区驱动，不会造成影响。\n  - 如果使用了动态磁盘但未启用 LDM 支持，Linux 将只能看到一个占满整个磁盘的虚拟 MSDOS 分区，无法访问实际卷。\n\n---\n\n#### 四、启动支持\n\n- **LILO**：支持从 LDM 分区启动。\n- **GRUB**：目前无法识别 LDM 分区，因此不能从动态磁盘启动。\n\n---\n\n#### 五、更多文档与支持\n\n- 提供了 LDM 的技术文档下载链接：[http://www.linux-ntfs.org/](http://www.linux-ntfs.org/)\n- 如有疑问，可联系作者 Richard Russon（<ldm@flatcap.org>）。\n\n---\n\n### 总结\n\n本文档全面介绍了 Windows 动态磁盘（LDM）的技术原理、结构特点、Linux 支持情况以及相关配置方法，是理解 LDM 分区机制和实现跨平台支持的重要参考资料。",
  "comparison_result": {
    "completeness_score": 8,
    "missing_content": "",
    "suggestions": "",
    "raw_result": "分析结果：\n\n- 完整性评分：8  \n- 遗漏内容：  \n  1. 原文中提到“LDM 驱动程序完成磁盘分区后，可以使用 MD 驱动程序来组装多分区卷，如带区卷、RAID 5 等。”，译文中未包含此句，该信息未被翻译。\n  2. 原文表格中提供了详细的分区偏移量、扇区数和大小信息，译文中虽然提到了“分区示例”，但未保留该表格内容，导致具体数据丢失。\n  3. 原文提到“若要使用跨区卷（Spanned）、带区卷（Striped）、镜像卷（Mirrored）或 RAID 5 卷，必须使用动态磁盘。”，译文虽然提到了支持这些卷，但未明确指出“必须使用动态磁盘”这一限制条件。\n  4. 原文提到“为防止旧版应用程序对磁盘进行重新分区，LDM 创建了一个包含单个磁盘大小分区的虚拟 MSDOS 分区。这是 Linux 的 LDM 驱动程序所支持的格式。”，译文虽有提及虚拟 MSDOS 分区，但未说明其设计目的是为了兼容旧应用程序。\n\n- 建议：  \n  1. 补充“LDM 驱动程序完成磁盘分区后，可以使用 MD 驱动程序来组装多分区卷”的内容，以体现 LDM 与 MD 驱动程序的协作关系。\n  2. 保留原文中的表格或以文字形式列出关键分区数据，确保技术细节完整。\n  3. 明确指出“必须使用动态磁盘”才能使用高级卷类型，以强调其限制条件。\n  4. 补充关于虚拟 MSDOS 分区的设计目的（防止旧版应用程序误操作），以增强对兼容性机制的理解。"
  },
  "chunk_count": 5,
  "completeness_score": 8
}